'use strict';
const express = require('express');
const ApplicationClient = require('application.js');

const app = express();
const application = new ApplicationClient({
  hubCallback: 'https://example.com/youtube',
  secret: 'Something',
});

app.use('/youtube', application.listener());
app.listen(3000);


application.on('subscribe', data => {
  console.log('Subscribed');
  console.log(data);
});

application.on('unsubscribe', data => {
  console.log('Unsubscribed');
  console.log(data);
});

application.on('denied', data => {
  console.log('Denied');
  console.log(data);
});

application.on('notified', data => {
  console.log('New Video');
  console.log(data);
});

application.subscribe('channel_1');
application.subscribe(['channel_2', 'channel_3']);